package com.example.exploitapp;

import androidx.appcompat.app.AppCompatActivity;

import android.content.ActivityNotFoundException;
import android.content.ComponentName;
import android.content.Intent;
import android.content.pm.ActivityInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

import java.io.DataOutputStream;
import java.io.IOException;
import java.util.Iterator;
import java.util.List;

public class MainActivity extends AppCompatActivity {

    Button b1,b2;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        b1 = findViewById(R.id.b1);
        b2 = findViewById(R.id.b2);


        final String packagePass ="com.els.pwdmanager";
        final String packageNote ="com.els.safenote";
        final String myClass = "com.els.pwdmanager.Manage";

        b1.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                //Intent intent = new Intent(Intent.ACTION_MAIN);
                //intent.setComponent(new ComponentName(mypackage,myClass));
                try {
                    Intent launchIntent = getPackageManager().getLaunchIntentForPackage(packagePass);
                    if (launchIntent != null) {
                        startActivity(launchIntent);//null pointer check in case package name was not found
                    }
                    }
                    catch(ActivityNotFoundException e){
                    e.printStackTrace();
                    Toast.makeText(getApplicationContext(),"Activity Not Found",Toast.LENGTH_SHORT).show();
                }
                /*try {
                    runShellCommand("adb shell start -n com.els.pwdmanager/.Manage");
                } catch (Exception e) {
                    e.printStackTrace();
                }*/


            }
        });

        b2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                try {
                    Intent launchIntent = getPackageManager().getLaunchIntentForPackage(packageNote);
                    if (launchIntent != null) {
                        startActivity(launchIntent);//null pointer check in case package name was not found
                    }
                }
                catch(ActivityNotFoundException e){
                    e.printStackTrace();
                    Toast.makeText(getApplicationContext(),"Activity Not Found",Toast.LENGTH_SHORT).show();
                }
                /*Intent launchIntent = new Intent(Intent.ACTION_MAIN);
                launchIntent.addCategory(Intent.CATEGORY_LAUNCHER);
                ComponentName cp = new ComponentName()
                launchIntent.setComponent(cp);

                startActivity(launchIntent);*/
            }
        });
    }
    private void runShellCommand(String command) throws Exception {
        Runtime runtime = Runtime.getRuntime();
        runtime.exec("su");
        runtime.exec(command);
    }

    //Userâ€™s pin and md5 pin combined and checked if it is matching xored pin then it is the password.
}
